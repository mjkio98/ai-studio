<!-- Modern Chat Interface -->
<div id="chat-agent-section" class="modern-chat-app">
    <!-- Chat Header -->
    <header class="chat-header">
        <div class="chat-header-content">
            <div class="chat-title-section">
                <div class="chat-icon">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="chat-title-info">
                    <h1 class="chat-main-title" data-en="AI Assistant" data-ar="ÿßŸÑŸÖÿ≥ÿßÿπÿØ ÿßŸÑÿ∞ŸÉŸä">AI Assistant</h1>
                    <p class="chat-subtitle" data-en="Webpage Analyzer & General Chat" data-ar="ŸÖÿ≠ŸÑŸÑ ÿµŸÅÿ≠ÿßÿ™ ÿßŸÑŸàŸäÿ® ŸàÿßŸÑÿØÿ±ÿØÿ¥ÿ© ÿßŸÑÿπÿßŸÖÿ©">Webpage Analyzer & General Chat</p>
                </div>
            </div>
            <div class="chat-header-actions">
                <div class="analysis-mode-selector">
                    <select id="analysis-mode-select" class="mode-select">
                        <option value="fast" data-en="üöÄ Fast Analysis" data-ar="üöÄ ÿ™ÿ≠ŸÑŸäŸÑ ÿ≥ÿ±Ÿäÿπ">üöÄ Fast Analysis</option>
                        <option value="deep" data-en="üîç Deep Analysis" data-ar="üîç ÿ™ÿ≠ŸÑŸäŸÑ ÿπŸÖŸäŸÇ">üîç Deep Analysis</option>
                    </select>
                </div>
                <button class="header-btn" id="summarize-page-btn" title="Summarize">
                    <i class="fas fa-file-text"></i>
                </button>
                <button class="header-btn" id="clear-chat-btn" title="Clear Chat">
                    <i class="fas fa-trash-alt"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Chat Messages Area -->
    <main class="chat-messages-area" id="chat-messages">
        <!-- Welcome Message -->
        <div class="welcome-container">
            <div class="welcome-avatar">
                <i class="fas fa-globe"></i>
            </div>
            <div class="welcome-message">
                <h2 data-en="Welcome! üëã" data-ar="ŸÖÿ±ÿ≠ÿ®ÿßŸã! üëã">Welcome! üëã</h2>
                <p data-en="Send me a webpage URL to analyze website content, or ask any general question!" data-ar="ÿ£ÿ±ÿ≥ŸÑ ŸÑŸä ÿ±ÿßÿ®ÿ∑ ÿµŸÅÿ≠ÿ© ŸàŸäÿ® ŸÑÿ™ÿ≠ŸÑŸäŸÑ ŸÖÿ≠ÿ™ŸàŸâ ÿßŸÑŸÖŸàŸÇÿπÿå ÿ£Ÿà ÿßÿ≥ÿ£ŸÑ ÿ£Ÿä ÿ≥ÿ§ÿßŸÑ ÿπÿßŸÖ!">Send me a webpage URL to analyze website content, or ask any general question!</p>
                <div class="example-bubble">
                    <span class="example-label" data-en="Try:" data-ar="ÿ¨ÿ±ÿ®:">Try:</span>
                    <code>https://example.com</code>
                </div>
            </div>
        </div>
    </main>

    <!-- AI Thinking Animation (Template) -->
    <div id="ai-thinking" class="hidden">
        <div class="message-container ai-message">
            <div class="message-avatar">
                <i class="fas fa-robot"></i>
            </div>
            <div class="message-bubble ai-bubble">
                <div class="thinking-animation">
                    <div class="thinking-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    <span class="thinking-text" data-en="AI is thinking..." data-ar="ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä ŸäŸÅŸÉÿ±...">AI is thinking...</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Collapsible Thinking UI Template (DeepSeek-style) -->
    <div id="thinking-template" class="hidden">
        <div class="thinking-message">
            <div class="message-avatar">
                <i class="fas fa-brain"></i>
            </div>
            <div class="thinking-container">
                <div class="thinking-header" role="button" tabindex="0">
                    <div class="thinking-header-content">
                        <div class="thinking-icon">
                            <i class="fas fa-lightbulb"></i>
                        </div>
                        <span class="thinking-label" data-en="Thinking Process" data-ar="ÿπŸÖŸÑŸäÿ© ÿßŸÑÿ™ŸÅŸÉŸäÿ±">Thinking Process</span>
                        <div class="thinking-status">
                            <span class="thinking-status-text" data-en="Processing..." data-ar="ÿ¨ÿßÿ± ÿßŸÑŸÖÿπÿßŸÑÿ¨ÿ©...">Processing...</span>
                        </div>
                    </div>
                    <div class="thinking-toggle">
                        <i class="fas fa-chevron-down"></i>
                    </div>
                </div>
                <div class="thinking-content collapsed">
                    <div class="thinking-text">
                        <!-- Thinking content will be streamed here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Typing Indicator -->
    <div id="typing-indicator" class="typing-indicator hidden">
        <div class="typing-avatar">
            <i class="fas fa-robot"></i>
        </div>
        <div class="typing-bubble">
            <div class="typing-dots">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </div>

    <!-- Chat Input Area -->
    <footer class="chat-input-area">
        <div class="input-container">
            <div class="input-wrapper">
                <input 
                    type="text" 
                    id="chat-input"
                    class="chat-input"
                    placeholder="Enter URL to analyze webpage, or ask any question..."
                    data-en="Enter URL to analyze webpage, or ask any question..."
                    data-ar="ÿ£ÿØÿÆŸÑ ÿ±ÿßÿ®ÿ∑ ŸÑÿ™ÿ≠ŸÑŸäŸÑ ÿµŸÅÿ≠ÿ© ŸàŸäÿ®ÿå ÿ£Ÿà ÿßÿ≥ÿ£ŸÑ ÿ£Ÿä ÿ≥ÿ§ÿßŸÑ..."
                    maxlength="2000"
                    autocomplete="off"
                >
                <button id="send-message-btn" class="send-btn" disabled>
                    <i class="fas fa-paper-plane"></i>
                </button>
                <button id="stop-message-btn" class="stop-btn hidden" title="Stop Generation">
                    <i class="fas fa-stop"></i>
                </button>
            </div>
        </div>
        <div class="input-footer">
            <span class="char-counter">
                <span id="char-count">0</span>/2000
            </span>
        </div>
    </footer>
</div>